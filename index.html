<!DOCTYPE html>
<html>
<head>
	<title>Welcome to Worship Gatherer!</title>
</head>
<body>
	<div class="container">
		<h2 class="header">
			This is Worship Gatherer!
		</h2>

		<form class="form-signin">
			<p class="form-signin-heading">Subscribe to our program!</p>
			<label for="inputEmail" class="sr-only">Email address</label>
			<input type="email" id="inputEmail" class="form-control" placeholder="Email address" required autofocus>
			<button class="btn btn-lg btn-primary btn-block" type="submit" onclick="saveToFirebase(document.getElementByID('inputEmail'))">Subscribe!</button>
		</form>
	</div>
	<script src="https://www.gstatic.com/firebasejs/4.8.1/firebase.js"></script>
	<script>
	  // Initialize Firebase
	  var config = {
	    apiKey: "AIzaSyAqenAb0f5kxU10hTctBdPs9ptuFsEHw2Y",
	    authDomain: "worshipgatherer-8a275.firebaseapp.com",
	    databaseURL: "https://worshipgatherer-8a275.firebaseio.com",
	    projectId: "worshipgatherer-8a275",
	    storageBucket: "worshipgatherer-8a275.appspot.com",
	    messagingSenderId: "359836301606"
	  };
	  firebase.initializeApp(config);
	</script>

	<script>
		function saveToFirebase(email) {
			console.log("Working")
			console.log(email)
		    var emailObject = {
		        email: email
		    };

		    firebase.database().ref('subscription-entries').push().set(emailObject)
		        .then(function(snapshot) {
		            success(); // some success method
		        }, function(error) {
		            console.log('error' + error);
		            error(); // some error method
		        });


		}
	</script>
</body>
</html>